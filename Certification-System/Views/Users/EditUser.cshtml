@model Certification_System.ViewModels.EditUserViewModel

@{
    ViewData["Title"] = "EditUser";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Edytuj dane użytkownika systemu</h2>
<hr />

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <input asp-for="UserIdentificator" class="form-control" hidden/>

    <div class="form-group form-group">
        <div class="col-6 m-auto p-0">
            @Html.LabelFor(m => m.Email, new { @class = "col-12 control-label p-0" })
        </div>
        <div class="col-6 m-auto p-0">
            @Html.TextBoxFor(m => m.Email, new { @class = "col-12 form-control" })
        </div>
        <div class="row justify-content-center">
            @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <div class="col-6 m-auto p-0">
            @Html.LabelFor(m => m.FirstName, new { @class = "col-12 control-label p-0" })
        </div>
        <div class="col-6 m-auto p-0">
            @Html.TextBoxFor(m => m.FirstName, new { @class = "col-12 form-control" })
        </div>
        <div class="row justify-content-center">
            @Html.ValidationMessageFor(m => m.FirstName, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <div class="col-6 m-auto p-0">
            @Html.LabelFor(m => m.LastName, new { @class = "col-12 control-label p-0" })
        </div>
        <div class="col-6 m-auto p-0">
            @Html.TextBoxFor(m => m.LastName, new { @class = "col-12 form-control" })
        </div>
        <div class="row justify-content-center">
            @Html.ValidationMessageFor(m => m.LastName, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <div class="col-6 m-auto p-0">
            @Html.LabelFor(m => m.Country, new { @class = "col-12 control-label p-0" })
        </div>
        <div class="col-6 m-auto p-0">
            @Html.TextBoxFor(m => m.Country, new { @class = "col-12 form-control" })
        </div>
        <div class="row justify-content-center">
            @Html.ValidationMessageFor(m => m.Country, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <div class="col-6 m-auto p-0">
            @Html.LabelFor(m => m.City, new { @class = "col-12 control-label p-0" })
        </div>
        <div class="col-6 m-auto p-0">
            @Html.TextBoxFor(m => m.City, new { @class = "col-12 form-control" })
        </div>
        <div class="row justify-content-center">
            @Html.ValidationMessageFor(m => m.City, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <div class="col-6 m-auto p-0">
            @Html.LabelFor(m => m.PostCode, new { @class = "col-12 control-label p-0" })
        </div>
        <div class="col-6 m-auto p-0">
            @Html.TextBoxFor(m => m.PostCode, new { @class = "col-12 form-control" })
        </div>
        <div class="row justify-content-center">
            @Html.ValidationMessageFor(m => m.PostCode, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <div class="col-6 m-auto p-0">
            @Html.LabelFor(m => m.Address, new { @class = "col-12 control-label p-0" })
        </div>
        <div class="col-6 m-auto p-0">
            @Html.TextBoxFor(m => m.Address, new { @class = "col-12 form-control" })
        </div>
        <div class="row justify-content-center">
            @Html.ValidationMessageFor(m => m.Address, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <div class="col-6 m-auto p-0">
            @Html.LabelFor(m => m.NumberOfApartment, new { @class = "col-12 control-label p-0" })
        </div>
        <div class="col-6 m-auto p-0">
            @Html.TextBoxFor(m => m.NumberOfApartment, new { @class = "col-12 form-control" })
        </div>
        <div class="row justify-content-center">
            @Html.ValidationMessageFor(m => m.NumberOfApartment, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <div class="col-6 m-auto p-0">
            @Html.LabelFor(m => m.PhoneNumber, new { @class = "col-12 control-label p-0" })
        </div>
        <div class="col-6 m-auto p-0">
            @Html.TextBoxFor(m => m.PhoneNumber, new { @class = "col-12 form-control" })
        </div>
        <div class="row justify-content-center">
            @Html.ValidationMessageFor(m => m.PhoneNumber, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <div class="col-6 m-auto p-0">
            @Html.LabelFor(m => m.DateOfBirth, new { @class = "col-12 control-label p-0" })
        </div>
        <div class='input-group date col-6 m-auto p-0' id='DateOfBirth'>
            <input type='text' class="form-control col-12" name="DateOfBirth" value="@DateTime.Now.ToShortDateString() @DateTime.Now.ToShortTimeString()" />
            <span class="input-group-addon">
                <span class="fa fa-calendar pl-1 pt-0.5" style="font-size:34px"></span>
            </span>
        </div>
        <div class="row justify-content-center">
            @Html.ValidationMessageFor(m => m.DateOfBirth, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <div class="col-6 m-auto p-0">
            <label asp-for="AvailableRoles" class="control-label col-md-2"></label>
        </div>
        <div class="col-6 m-auto p-0">
            <select asp-for="SelectedRole" asp-items="@Model.AvailableRoles" data-width="auto" data-header="Wybierz użytkownika" multiple data-live-search="true" title="Nie wybrano żadnego elementu" class="form-control selectpicker show-tick"> </select>
            <div class="col-6 m-auto p-0">
                <span asp-validation-for="SelectedRole" class="text-danger"></span>
            </div>
        </div>
    </div>

    <div class="form-group">
        <div class="col-6 m-auto p-0">
            <label asp-for="CompanyRoleWorker" class="control-label col-md-2"></label>
        </div>
        <div class="col-6 m-auto p-0">
            <select asp-for="CompanyRoleWorker" asp-items="@Model.AvailableCompanies" data-width="auto" data-header="Wybierz użytkownika" multiple data-live-search="true" title="Nie wybrano żadnego elementu" class="form-control selectpicker show-tick"> </select>
            <div class="col-6 m-auto p-0">
                <span asp-validation-for="CompanyRoleWorker" class="text-danger"></span>
            </div>
        </div>
    </div>

    <div class="form-group">
        <div class="col-6 m-auto p-0">
            <label asp-for="CompanyRoleManager" class="control-label col-md-2"></label>
        </div>
        <div class="col-6 m-auto p-0">
            <select asp-for="CompanyRoleManager" asp-items="@Model.AvailableCompanies" data-width="auto" data-header="Wybierz użytkownika" multiple data-live-search="true" title="Nie wybrano żadnego elementu" class="form-control selectpicker show-tick"> </select>
            <div class="col-6 m-auto p-0">
                <span asp-validation-for="CompanyRoleManager" class="text-danger"></span>
            </div>
        </div>
    </div>

    <div class="row justify-content-center">
        @Html.ValidationSummary("", new { @class = "text-danger" })
    </div>

    <div class="form-group">
        <div class="row justify-content-center">
            <input type="submit" class="btn btn-warning" value="Edytuj użytkownika" />
        </div>
    </div>
}

<div>
    @Html.ActionLink("Dodaj nowego użytkownika", "AddNewUser", "Users", null, new { @class = "btn btn-primary" })
    @Html.ActionLink("Przejdź do listy użytkowników", "DisplayAllUsers", "Users", null, new { @class = "btn btn-secondary" })
</div>


@section Scripts {
    <script>
        $(function () {
            $('#DateOfBirth').datetimepicker({
                format: 'DD.MM.YYYY HH:mm',
                locale: moment.locale('pl', {
                    week: { dow: 1 }
                })
            });
        });
    </script>
}
